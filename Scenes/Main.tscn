[gd_scene load_steps=7 format=2]

[ext_resource path="res://Scenes/Box/Box.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Traveller/Traveller.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Environment/Environment.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Main.cs" type="Script" id=5]
[ext_resource path="res://Scenes/SimulationTraveller.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Configuration/Configuration.tscn" type="PackedScene" id=7]

[node name="Main" type="Node"]
script = ExtResource( 5 )
TravellerScene = ExtResource( 3 )
BoxScene = ExtResource( 2 )
SimulationTravellerScene = ExtResource( 6 )

[node name="UI" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="ControlBar" type="Panel" parent="UI"]
anchor_right = 1.0
margin_bottom = 100.0

[node name="SpawnButton" type="Button" parent="UI/ControlBar"]
margin_left = 795.0
margin_top = 25.0
margin_right = 946.0
margin_bottom = 85.0
text = "Spawn Traveller"

[node name="TimeLabel" type="Label" parent="UI/ControlBar"]
margin_right = 179.0
margin_bottom = 56.0
text = "Time"

[node name="SpeedLabel" type="Label" parent="UI/ControlBar"]
margin_left = 55.0
margin_top = 10.0
margin_right = 157.0
margin_bottom = 30.0
text = "Speed: 1.0x"

[node name="SpeedSlider" type="HSlider" parent="UI/ControlBar"]
margin_left = 12.0
margin_top = 36.0
margin_right = 196.0
margin_bottom = 74.0

[node name="Reset" type="Button" parent="UI/ControlBar"]
margin_left = 519.0
margin_top = 21.0
margin_right = 646.0
margin_bottom = 81.0
text = "Reset"

[node name="StopStartButton" type="Button" parent="UI/ControlBar"]
margin_left = 366.0
margin_top = 19.0
margin_right = 493.0
margin_bottom = 79.0
text = "Stop"

[node name="MaxSpeedButton" type="Button" parent="UI/ControlBar"]
margin_left = 211.0
margin_top = 18.0
margin_right = 338.0
margin_bottom = 78.0
text = "Max Speed"

[node name="TabContainer" type="TabContainer" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = 100.0

[node name="Environment" parent="UI/TabContainer" instance=ExtResource( 4 )]

[node name="Data" type="Control" parent="UI/TabContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="GanttChart" type="Panel" parent="UI/TabContainer/Data"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 15.0
margin_top = 15.0
margin_right = -15.0
margin_bottom = -15.0

[node name="GanttTitle" type="Label" parent="UI/TabContainer/Data/GanttChart"]
margin_left = 10.0
margin_top = 5.0
margin_right = 200.0
margin_bottom = 25.0
custom_colors/font_color = Color( 1, 1, 1, 1 )
text = "Traveller Activity Timeline"

[node name="DownloadButton" type="Button" parent="UI/TabContainer/Data/GanttChart"]
margin_left = 850.0
margin_top = 5.0
margin_right = 990.0
margin_bottom = 25.0
text = "Download CSV"

[node name="ScrollContainer" type="ScrollContainer" parent="UI/TabContainer/Data/GanttChart"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 10.0
margin_top = 30.0
margin_right = -10.0
margin_bottom = -10.0

[node name="GanttContent" type="Control" parent="UI/TabContainer/Data/GanttChart/ScrollContainer"]
margin_right = 966.0
margin_bottom = 394.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Configuration" parent="UI/TabContainer" instance=ExtResource( 7 )]
visible = false

[connection signal="pressed" from="UI/ControlBar/SpawnButton" to="." method="OnSpawnButtonPressed"]
[connection signal="value_changed" from="UI/ControlBar/SpeedSlider" to="." method="OnSpeedSliderChanged"]
[connection signal="pressed" from="UI/ControlBar/Reset" to="." method="OnResetPressed"]
[connection signal="pressed" from="UI/ControlBar/StopStartButton" to="." method="OnToggleSimulationPressed"]
[connection signal="pressed" from="UI/ControlBar/MaxSpeedButton" to="." method="OnMaxSpeedPressed"]
[connection signal="pressed" from="UI/TabContainer/Data/GanttChart/DownloadButton" to="." method="OnDownloadCsvPressed"]
